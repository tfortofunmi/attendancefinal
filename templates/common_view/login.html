<!DOCTYPE html>
<html lang="en">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Login - Attendance System</title>
    <link rel="stylesheet" href="/static/css/login.css">
</head>
<body> 
    
    <div class="bubble-container">
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
        <div class="bubble"></div>
    </div>

    <div class="title">
        <h2>Login</h2>
    </div>
   
    <div class="login-container">
        <form id="loginForm" method="POST" action="{{ url_for('user.login')}}">
            {{ login_form.hidden_tag() }}
            <!-- Matric Number Field -->
            <label for="matric-number">{{ login_form.matric_number.label }}</label>
            <input type="text" id="matric-number" name="matric_number" required placeholder="Enter Matric Number">
            
            <label for="password">{{ login_form.password.label }}</label>
            <input type="password" id="password" name="password" required placeholder="Enter Password">
            
            <label for="student-type">{{ login_form.student_type.label }}</label>
            
            <p> {{ login_form.student_type() }} </p>

            <div class="btn-container">
                {{ login_form.submit(class="btn") }}
            </div>
        </form>
    </div>

    <!-- <script>
      const users = [
            { matric: "R2023620001", password: "TOFUNMI29", role: "student", type: "full-time" },
            { matric: "L002", password: "OLA", role: "lecturer", type: "full-time" },
            { matric: "A003", password: "JAMES", role: "admin", type: "part-time" }
        ];

        // Handle form submission
        document.getElementById("loginForm").onsubmit = function(event) {
            event.preventDefault();

            const matric = document.getElementById("matric-number").value.trim();
            const password = document.getElementById("password").value.trim().toUpperCase();
            const type = document.getElementById("student-type").value;

            const user = users.find(u => u.matric === matric && u.password === password && u.type === type);

            if (user) {
                localStorage.setItem("currentUser", JSON.stringify(user));
                if (user.role === "admin") location.href = "admin-dashboard.html";
                else if (user.role === "lecturer") location.href = "/attendance-system/lecturer view/lecturer dashboard.html";
                else location.href = "/attendance-system/student view/student dashboard.html";
            } else {
                alert("Invalid matric number, surname, or student type!");
            }
        };
    </script>
-->
</body>
</html> 
