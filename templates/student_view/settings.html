<!DOCTYPE html>
<html lang="en">

<head>
  <meta charset="UTF-8">
  <title>Settings</title>
  <link rel="stylesheet" href="/attendance-system/css/settings.css">
  <link href="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/css/bootstrap.min.css" rel="stylesheet"
    integrity="sha384-T3c6CoIi6uLrA9TneNEoa7RxnatzjcDSCmG1MXxSR1GAsXEV/Dwwykc2MPK8M2HN" crossorigin="anonymous" />
  <!-- Bootstrap JavaScript Libraries -->
  <script src="https://cdn.jsdelivr.net/npm/@popperjs/core@2.11.6/dist/umd/popper.min.js"
    integrity="sha384-oBqDVmMz4fnFO9gybRbf6fNV8dD4rPw68brgYX56bQk6lhk15TO9yNRO0jHq6nXz" crossorigin="anonymous"></script>
  <script src="https://cdn.jsdelivr.net/npm/bootstrap@5.3.2/dist/js/bootstrap.min.js"
    integrity="sha384-BBtl+eGJRgqQAUMxJ7pMwbEyER4l1g+O15P+16Ep7Q9Q+zqX6gSbd85u4mG4QzX+" crossorigin="anonymous"></script>

  <link rel="stylesheet" href="/attendance-system/css/studentdashboard.css">
  <link rel="stylesheet" href="https://fonts.googleapis.com/css2?family=Poppins:wght@400;600&display=swap">
  <link rel="stylesheet" href="https://cdnjs.cloudflare.com/ajax/libs/font-awesome/4.7.0/css/font-awesome.min.css">
  <style>
    body {
      font-family: 'Poppins', sans-serif;
      background: var(--bg);
      margin: 0;
      display: flex;
      transition: background-color 0.5s ease, color 0.5s ease;
    }

    .sidebar {
  width: 200px;
  background: #023e8a;
  color: white;
  padding: 20px;
  overflow-y: auto;
  height: 100vh; 
}

    .sidebar a {
      display: block;
      color: white;
      text-decoration: none;
      padding: 10px;
      margin-bottom: 10px;
      border-radius: 8px;
      transition: background 0.3s;
    }

    .sidebar a:hover {
      background: #0077b6;
      text-decoration: underline;
    }

    .sidebar a.active {
      background: #005e8b;
      font-weight: bold;
    }

    .main {
  flex: 1;
  padding: 20px;
  overflow-y: auto; 
}

    .topbar {
      font-size: 1.5rem;
      font-weight: 600;
      margin-bottom: 20px;
      color: #0d6efd;
    }

    .settings-container {
  margin-top: 20px;
  overflow-y: auto; /* Ensure settings section scrolls if needed */
}

    .section {
      margin-bottom: 20px;
    }

    label {
      font-weight: 600;
      display: block;
      margin-bottom: 5px;
    }

    .readonly {
      width: 100%;
      padding: 10px;
      background: var(--input-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      margin-bottom: 15px;
      font-size: 1rem;
    }

    select.theme-select {
      width: 100%;
      padding: 10px;
      background: var(--input-bg);
      border: 1px solid var(--border);
      border-radius: 8px;
      margin-bottom: 20px;
    }

    html, body {
  height: 100%;
  margin: 0;
}

body {
  font-family: 'Poppins', sans-serif;
  background: var(--bg);
  display: flex;
  flex-direction: row;
  transition: background-color 0.5s ease, color 0.5s ease;
  overflow-y: auto; /* Enable scrolling on the body */
}







  </style>
</head>

<body>
  <div class="col-12 col-md-3 sidebar">
 <a href="{{ url_for('user.dashboard') }}"><i class="fa fa-windows"></i> Dashboard</a>
  <a href="{{ url_for('user.attendance_record') }}"><i class="fa fa-eye"></i> Attendance Records</a>
  <a href="{{ url_for('user.notifications') }}"><i class="fa fa-signal"></i> Notifications</a>
  <a href="{{ url_for('user.settings') }}"><i class="fa fa-cog"></i> Settings</a>  </div>

  <div class="main">
    <div class="topbar">ðŸ“§ Settings</div>
    <div class="settings-container">
      <h2>Theme</h2>
      <div class="section">
        <label>Select Theme</label>
        <select id="themeSelector" class="theme-select">
          <option value="blue">Blue (Default)</option>
          <option value="light">Light</option>
          <option value="dark">Dark</option>
        </select>
      </div>

      <div class="section">
        <h3>Account Information</h3>
        <label>Full Name</label>
        <input class="readonly" type="text" value="{{ user.name }}" readonly>

        <label>Matric Number</label>
        <input class="readonly" type="text" value="{{ user.staff_id or user.student_number}}" readonly>

        <label>Department</label>
        <input class="readonly" type="text" value="{{ user.department.name if user.department else '' }}" readonly>

        <label>Email</label>
        <input class="readonly" type="text" value="{{ user.email }}" readonly>

        <label>Phone Number</label>
        <input class="readonly" type="text" value="{{ user.phone if user.phone else '' }}" readonly>
      </div>
    </div>
  </div>

  <script>
    const themes = {
      blue: {
        '--bg': '#e7f1ff',
        '--text': '#003366',
        '--input-bg': '#fff',
        '--border': '#80bfff'
      },
      light: {
        '--bg': '#f9f9f9',
        '--text': '#222',
        '--input-bg': '#fff',
        '--border': '#ccc'
      },
      dark: {
        '--bg': '#1f1f1f',
        '--text': '#f0f0f0',
        '--input-bg': '#2c2c2c',
        '--border': '#555'
      }
    };

    function applyTheme(theme) {
      const selected = themes[theme];
      if (!selected) return; // Ensure the theme exists

      for (let varName in selected) {
        document.documentElement.style.setProperty(varName, selected[varName]);
      }

      // Provide a smooth transition effect for theme change
      document.body.classList.add("theme-transition");

      localStorage.setItem("theme", theme);
    }

    document.getElementById("themeSelector").addEventListener("change", (e) => {
      const selectedTheme = e.target.value;
      const currentTheme = localStorage.getItem("theme");
      if (selectedTheme !== currentTheme) {
        applyTheme(selectedTheme);
      }
    });

    // Apply saved theme
    const savedTheme = localStorage.getItem("theme") || "blue";
    document.getElementById("themeSelector").value = savedTheme;
    applyTheme(savedTheme);
  </script>
</body>

</html>
